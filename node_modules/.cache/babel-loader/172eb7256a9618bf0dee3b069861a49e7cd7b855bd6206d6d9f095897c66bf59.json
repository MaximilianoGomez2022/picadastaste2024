{"ast":null,"code":"import { createStore } from 'vuex';\nimport { collection, getDocs } from 'firebase/firestore'; // Funciones de Firestore\nimport { db } from '../firebase.js'; // Importa la configuración de Firebase\n\nexport default createStore({\n  state: {\n    productos: [],\n    carrito: {},\n    filtro: '',\n    agrego: false,\n    clicks: 0\n  },\n  getters: {\n    getProductos: state => state.productos,\n    getClicks: state => state.clicks,\n    getCarrito: state => state.carrito,\n    getFiltro: state => state.filtro,\n    productosFiltrados(state) {\n      if (state.filtro === '') {\n        return state.productos; // Si no hay filtro, devuelve todos los productos\n      }\n      // Filtra productos según el filtro seleccionado\n      return state.productos.filter(producto => producto.categoria.includes(state.filtro));\n    }\n  },\n  mutations: {\n    setProductos(state, productos) {\n      state.productos = productos;\n    },\n    setCarrito(state, payload) {\n      state.carrito[payload.id] = payload;\n    },\n    setFiltro(state, payload) {\n      state.filtro = payload;\n    },\n    setClicks(state, payload) {\n      state.clicks = payload;\n      console.log(state.clicks);\n    }\n  },\n  actions: {\n    async fetchProductos({\n      commit\n    }) {\n      try {\n        // Obtener los cursos desde Firestore\n        const productosSnapshot = await getDocs(collection(db, 'Productos'));\n        const productos = productosSnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        }));\n        commit('setProductos', productos);\n        console.log(productos);\n      } catch (error) {\n        console.error(\"Error al obtener los productos:\", error);\n      }\n    },\n    agregarAlCarrito({\n      commit,\n      state\n    }, producto) {\n      state.carrito.hasOwnProperty(producto.id) ? producto.cantidad = state.carrito[producto.id].cantidad + 1 : producto.cantidad = 1;\n      commit('setCarrito', producto);\n    },\n    quitarDelCarrito({\n      commit,\n      state\n    }, producto) {\n      if (state.carrito.hasOwnProperty(producto.id)) {\n        const cantidadActual = state.carrito[producto.id].cantidad;\n        if (cantidadActual > 1) {\n          // Si hay más de uno, simplemente reducimos la cantidad\n          producto.cantidad = cantidadActual - 1;\n          commit('setCarrito', producto);\n        } else {\n          // Si la cantidad es 1, removemos el producto del carrito\n          commit('eliminarDelCarrito', producto.id);\n        }\n      }\n    },\n    agregarFiltro({\n      commit\n    }, filtro) {\n      commit('setFiltro', filtro);\n    },\n    sumarClicks({\n      commit\n    }) {\n      let payload = this.state.clicks + 1;\n      commit('setClicks', payload);\n    },\n    restarClicks({\n      commit\n    }) {\n      let payload = this.state.clicks - 1;\n      commit('setClicks', payload);\n    }\n  },\n  modules: {}\n});","map":{"version":3,"names":["createStore","collection","getDocs","db","state","productos","carrito","filtro","agrego","clicks","getters","getProductos","getClicks","getCarrito","getFiltro","productosFiltrados","filter","producto","categoria","includes","mutations","setProductos","setCarrito","payload","id","setFiltro","setClicks","console","log","actions","fetchProductos","commit","productosSnapshot","docs","map","doc","data","error","agregarAlCarrito","hasOwnProperty","cantidad","quitarDelCarrito","cantidadActual","agregarFiltro","sumarClicks","restarClicks","modules"],"sources":["C:/Users/maxig/Documents/proyectos/Vue.js/taste-2024/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex';\nimport { collection, getDocs } from 'firebase/firestore'; // Funciones de Firestore\nimport { db } from '../firebase.js'; // Importa la configuración de Firebase\n\nexport default createStore({\n  state: {\n    productos: [],\n    carrito : {},\n    filtro : '',\n    agrego: false,\n    clicks: 0\n  },\n  getters: {\n    getProductos: (state) => state.productos,\n    getClicks: (state) => state.clicks,\n    getCarrito: (state) => state.carrito,\n    getFiltro: (state) => state.filtro,\n    productosFiltrados(state) {\n      if (state.filtro === '') {\n        return state.productos; // Si no hay filtro, devuelve todos los productos\n      }\n      // Filtra productos según el filtro seleccionado\n      return state.productos.filter(producto =>\n        producto.categoria.includes(state.filtro)\n      );\n    },\n  },\n  mutations: {\n    setProductos(state, productos) {\n      state.productos = productos;\n    },\n    setCarrito(state, payload) {\n      state.carrito[payload.id] = payload\n    },\n    setFiltro(state, payload) {\n      state.filtro = payload\n    },\n    setClicks(state, payload) {\n      state.clicks = payload\n      console.log(state.clicks)\n    }\n  },\n  actions: {\n    async fetchProductos({ commit }) {\n      try {\n        // Obtener los cursos desde Firestore\n        const productosSnapshot = await getDocs(collection(db, 'Productos'));\n        const productos = productosSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n        commit('setProductos', productos);\n        console.log(productos)\n      } catch (error) {\n        console.error(\"Error al obtener los productos:\", error);\n      }\n    },\n    agregarAlCarrito({ commit,state }, producto) {\n      state.carrito.hasOwnProperty(producto.id)\n      ? producto.cantidad = state.carrito[producto.id].cantidad + 1\n      : producto.cantidad = 1\n      commit('setCarrito', producto);\n    },\n    quitarDelCarrito({ commit, state }, producto) {\n      if (state.carrito.hasOwnProperty(producto.id)) {\n        const cantidadActual = state.carrito[producto.id].cantidad;\n    \n        if (cantidadActual > 1) {\n          // Si hay más de uno, simplemente reducimos la cantidad\n          producto.cantidad = cantidadActual - 1;\n          commit('setCarrito', producto);\n        } else {\n          // Si la cantidad es 1, removemos el producto del carrito\n          commit('eliminarDelCarrito', producto.id);\n        }\n      }\n    },\n    agregarFiltro({commit}, filtro) {\n      commit('setFiltro', filtro)\n    },\n    sumarClicks({commit}) {\n      let payload = this.state.clicks + 1\n      commit('setClicks', payload)\n    },\n    restarClicks({commit}) {\n      let payload = this.state.clicks - 1\n      commit('setClicks', payload)\n    }\n  },\n  modules: {\n  }\n})\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}