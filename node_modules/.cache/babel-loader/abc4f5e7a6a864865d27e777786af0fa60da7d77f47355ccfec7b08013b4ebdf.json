{"ast":null,"code":"// @ is an alias to /src\nimport Banner from '@/components/Banner.vue';\nimport Productos from '@/components/Productos.vue';\nimport { useStore } from 'vuex';\nimport { onMounted, computed, ref, watch } from 'vue';\nimport Filtros from '@/components/Filtros.vue';\nimport Nosotros from '@/components/Nosotros.vue';\nimport Contacto from '@/components/Contacto.vue';\nexport default {\n  name: 'HomeView',\n  components: {\n    Productos,\n    Banner,\n    Filtros,\n    Nosotros,\n    Contacto\n  },\n  setup() {\n    const store = useStore();\n    const productos = ref([]);\n    const isLoading = ref(true);\n    onMounted(async () => {\n      if (!store.state.productos.length) {\n        await store.dispatch('fetchProductos');\n      }\n      productos.value = store.state.productos; // Acceso correcto al estado de Vuex\n      console.log('Productos después del fetch:', productos.value); // Verifica si los productos fueron cargados\n\n      // Cambia el estado de isLoading a false cuando los productos estén cargados\n      isLoading.value = false;\n      console.log('isLoading (después del fetch):', isLoading.value);\n    });\n\n    // Observar cambios en el filtro del estado de Vuex\n    watch(() => store.state.filtro, nuevoFiltro => {\n      // Actualizar los productos filtrados cuando el filtro cambie\n      productos.value = store.getters.productosFiltrados;\n    });\n    return {\n      productos,\n      isLoading\n    };\n  }\n};","map":{"version":3,"names":["Banner","Productos","useStore","onMounted","computed","ref","watch","Filtros","Nosotros","Contacto","name","components","setup","store","productos","isLoading","state","length","dispatch","value","console","log","filtro","nuevoFiltro","getters","productosFiltrados"],"sources":["C:\\Users\\maxig\\Documents\\proyectos\\Vue.js\\taste-2024\\src\\views\\HomeView.vue"],"sourcesContent":["<template>\n    <Banner/>\n    <Filtros/>\n    <div class=\"container\" v-if=\"isLoading\">\n      cargando...\n    </div>\n    <div v-else class=\"container\">\n    <div class=\"row\" id=\"carrito-section\">\n          <Productos v-for=\"producto in productos\" \n          :producto=\"producto\" :key=\"producto.id\" />\n          <router-link to=\"/carrito\" class=\"btn btn-dark w-30\">Ver detalle del carrito</router-link>      \n    </div>\n    </div>\n    <Nosotros/>\n    <Contacto/>\n</template>\n\n<script>\n// @ is an alias to /src\nimport Banner from '@/components/Banner.vue'\nimport Productos from '@/components/Productos.vue'\nimport {useStore} from 'vuex'\nimport {onMounted, computed, ref, watch} from 'vue'\nimport Filtros from '@/components/Filtros.vue'\nimport Nosotros from '@/components/Nosotros.vue'\nimport Contacto from '@/components/Contacto.vue'\n\nexport default {\n  name: 'HomeView',\n  components: {\n    Productos,\n    Banner,\n    Filtros,\n    Nosotros,\n    Contacto\n  },\n  setup() {\n    const store = useStore()\n        const productos = ref([]);\n        const isLoading = ref(true);\n\n        onMounted(async() => {\n        if (!store.state.productos.length) {\n        await store.dispatch('fetchProductos');\n        }\n        productos.value = store.state.productos; // Acceso correcto al estado de Vuex\n        console.log('Productos después del fetch:', productos.value); // Verifica si los productos fueron cargados\n\n        // Cambia el estado de isLoading a false cuando los productos estén cargados\n        isLoading.value = false;\n        console.log('isLoading (después del fetch):', isLoading.value);\n        });\n\n        // Observar cambios en el filtro del estado de Vuex\n        watch(\n          () => store.state.filtro,\n          (nuevoFiltro) => {\n            // Actualizar los productos filtrados cuando el filtro cambie\n            productos.value = store.getters.productosFiltrados;\n          }\n        );\n        \n        return {productos, isLoading}\n  }\n}\n</script>\n"],"mappings":"AAkBA;AACA,OAAOA,MAAK,MAAO,yBAAwB;AAC3C,OAAOC,SAAQ,MAAO,4BAA2B;AACjD,SAAQC,QAAQ,QAAO,MAAK;AAC5B,SAAQC,SAAS,EAAEC,QAAQ,EAAEC,GAAG,EAAEC,KAAK,QAAO,KAAI;AAClD,OAAOC,OAAM,MAAO,0BAAyB;AAC7C,OAAOC,QAAO,MAAO,2BAA0B;AAC/C,OAAOC,QAAO,MAAO,2BAA0B;AAE/C,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,UAAU,EAAE;IACVV,SAAS;IACTD,MAAM;IACNO,OAAO;IACPC,QAAQ;IACRC;EACF,CAAC;EACDG,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIX,QAAQ,CAAC;IACnB,MAAMY,SAAQ,GAAIT,GAAG,CAAC,EAAE,CAAC;IACzB,MAAMU,SAAQ,GAAIV,GAAG,CAAC,IAAI,CAAC;IAE3BF,SAAS,CAAC,YAAW;MACrB,IAAI,CAACU,KAAK,CAACG,KAAK,CAACF,SAAS,CAACG,MAAM,EAAE;QACnC,MAAMJ,KAAK,CAACK,QAAQ,CAAC,gBAAgB,CAAC;MACtC;MACAJ,SAAS,CAACK,KAAI,GAAIN,KAAK,CAACG,KAAK,CAACF,SAAS,EAAE;MACzCM,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAEP,SAAS,CAACK,KAAK,CAAC,EAAE;;MAE9D;MACAJ,SAAS,CAACI,KAAI,GAAI,KAAK;MACvBC,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAEN,SAAS,CAACI,KAAK,CAAC;IAC9D,CAAC,CAAC;;IAEF;IACAb,KAAK,CACH,MAAMO,KAAK,CAACG,KAAK,CAACM,MAAM,EACvBC,WAAW,IAAK;MACf;MACAT,SAAS,CAACK,KAAI,GAAIN,KAAK,CAACW,OAAO,CAACC,kBAAkB;IACpD,CACF,CAAC;IAED,OAAO;MAACX,SAAS;MAAEC;IAAS;EAClC;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}