{"ast":null,"code":"import { createStore } from 'vuex';\nimport { collection, getDocs } from 'firebase/firestore'; // Funciones de Firestore\nimport { db } from '../firebase.js'; // Importa la configuración de Firebase\n\nexport default createStore({\n  state: {\n    productos: [],\n    carrito: {}\n  },\n  getters: {\n    getProductos: state => state.productos\n  },\n  mutations: {\n    setProductos(state, productos) {\n      state.productos = productos;\n    },\n    AGREGAR_AL_CARRITO(state, producto) {\n      const id = producto.id;\n\n      // Verificar si el producto ya está en el carrito\n      if (state.carrito[id]) {\n        // Si ya está, incrementar la cantidad\n        state.carrito[id].cantidad++;\n      } else {\n        // Si no está, agregarlo con cantidad 1\n        Vue.set(state.carrito, id, {\n          ...producto,\n          cantidad: 1\n        });\n      }\n    }\n  },\n  actions: {\n    async fetchProductos({\n      commit\n    }) {\n      try {\n        // Obtener los cursos desde Firestore\n        const productosSnapshot = await getDocs(collection(db, 'Productos'));\n        const productos = productosSnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        }));\n        commit('setProductos', productos);\n        console.log(productos);\n      } catch (error) {\n        console.error(\"Error al obtener los productos:\", error);\n      }\n    }\n  },\n  modules: {}\n});","map":{"version":3,"names":["createStore","collection","getDocs","db","state","productos","carrito","getters","getProductos","mutations","setProductos","AGREGAR_AL_CARRITO","producto","id","cantidad","Vue","set","actions","fetchProductos","commit","productosSnapshot","docs","map","doc","data","console","log","error","modules"],"sources":["C:/Users/maxig/Documents/proyectos/Vue.js/taste-2024/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex';\nimport { collection, getDocs } from 'firebase/firestore'; // Funciones de Firestore\nimport { db } from '../firebase.js'; // Importa la configuración de Firebase\n\nexport default createStore({\n  state: {\n    productos: [],\n    carrito : {}\n  },\n  getters: {\n    getProductos: (state) => state.productos\n  },\n  mutations: {\n    setProductos(state, productos) {\n      state.productos = productos;\n    },\n    AGREGAR_AL_CARRITO(state, producto) {\n      const id = producto.id;\n\n      // Verificar si el producto ya está en el carrito\n      if (state.carrito[id]) {\n        // Si ya está, incrementar la cantidad\n        state.carrito[id].cantidad++;\n      } else {\n        // Si no está, agregarlo con cantidad 1\n        Vue.set(state.carrito, id, {\n          ...producto,\n          cantidad: 1\n        });\n      }}\n  },\n  actions: {\n    async fetchProductos({ commit }) {\n      try {\n        // Obtener los cursos desde Firestore\n        const productosSnapshot = await getDocs(collection(db, 'Productos'));\n        const productos = productosSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n        commit('setProductos', productos);\n        console.log(productos)\n      } catch (error) {\n        console.error(\"Error al obtener los productos:\", error);\n      }\n    }\n  },\n  modules: {\n  }\n})\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,MAAM;AAClC,SAASC,UAAU,EAAEC,OAAO,QAAQ,oBAAoB,CAAC,CAAC;AAC1D,SAASC,EAAE,QAAQ,gBAAgB,CAAC,CAAC;;AAErC,eAAeH,WAAW,CAAC;EACzBI,KAAK,EAAE;IACLC,SAAS,EAAE,EAAE;IACbC,OAAO,EAAG,CAAC;EACb,CAAC;EACDC,OAAO,EAAE;IACPC,YAAY,EAAGJ,KAAK,IAAKA,KAAK,CAACC;EACjC,CAAC;EACDI,SAAS,EAAE;IACTC,YAAYA,CAACN,KAAK,EAAEC,SAAS,EAAE;MAC7BD,KAAK,CAACC,SAAS,GAAGA,SAAS;IAC7B,CAAC;IACDM,kBAAkBA,CAACP,KAAK,EAAEQ,QAAQ,EAAE;MAClC,MAAMC,EAAE,GAAGD,QAAQ,CAACC,EAAE;;MAEtB;MACA,IAAIT,KAAK,CAACE,OAAO,CAACO,EAAE,CAAC,EAAE;QACrB;QACAT,KAAK,CAACE,OAAO,CAACO,EAAE,CAAC,CAACC,QAAQ,EAAE;MAC9B,CAAC,MAAM;QACL;QACAC,GAAG,CAACC,GAAG,CAACZ,KAAK,CAACE,OAAO,EAAEO,EAAE,EAAE;UACzB,GAAGD,QAAQ;UACXE,QAAQ,EAAE;QACZ,CAAC,CAAC;MACJ;IAAC;EACL,CAAC;EACDG,OAAO,EAAE;IACP,MAAMC,cAAcA,CAAC;MAAEC;IAAO,CAAC,EAAE;MAC/B,IAAI;QACF;QACA,MAAMC,iBAAiB,GAAG,MAAMlB,OAAO,CAACD,UAAU,CAACE,EAAE,EAAE,WAAW,CAAC,CAAC;QACpE,MAAME,SAAS,GAAGe,iBAAiB,CAACC,IAAI,CAACC,GAAG,CAACC,GAAG,KAAK;UAAEV,EAAE,EAAEU,GAAG,CAACV,EAAE;UAAE,GAAGU,GAAG,CAACC,IAAI,CAAC;QAAE,CAAC,CAAC,CAAC;QACpFL,MAAM,CAAC,cAAc,EAAEd,SAAS,CAAC;QACjCoB,OAAO,CAACC,GAAG,CAACrB,SAAS,CAAC;MACxB,CAAC,CAAC,OAAOsB,KAAK,EAAE;QACdF,OAAO,CAACE,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;MACzD;IACF;EACF,CAAC;EACDC,OAAO,EAAE,CACT;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}