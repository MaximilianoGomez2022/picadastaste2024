{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  key: 1,\n  class: \"container\"\n};\nconst _hoisted_3 = {\n  class: \"row\",\n  id: \"carrito-section\"\n};\nconst _hoisted_4 = {\n  class: \"contenedor-carrito justify-content-end\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Banner = _resolveComponent(\"Banner\");\n  const _component_Filtros = _resolveComponent(\"Filtros\");\n  const _component_Productos = _resolveComponent(\"Productos\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_Nosotros = _resolveComponent(\"Nosotros\");\n  const _component_Contacto = _resolveComponent(\"Contacto\");\n  const _component_ProductoElegido = _resolveComponent(\"ProductoElegido\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Banner), _createVNode(_component_Filtros), $setup.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, \" cargando... \")) : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.productos, producto => {\n    return _openBlock(), _createBlock(_component_Productos, {\n      producto: producto,\n      key: producto.id\n    }, null, 8 /* PROPS */, [\"producto\"]);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_router_link, {\n    to: \"/carrito\",\n    class: \"btn btn-dark w-20\"\n  }, {\n    default: _withCtx(() => _cache[0] || (_cache[0] = [_createTextVNode(\"Ver detalle del carrito\")])),\n    _: 1 /* STABLE */\n  })])])])), _createVNode(_component_Nosotros), _createVNode(_component_Contacto), _createVNode(_component_ProductoElegido)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["key","class","id","_createElementBlock","_Fragment","_createVNode","_component_Banner","_component_Filtros","$setup","isLoading","_hoisted_1","_hoisted_2","_createElementVNode","_hoisted_3","_renderList","productos","producto","_createBlock","_component_Productos","_hoisted_4","_component_router_link","to","default","_withCtx","_cache","_createTextVNode","_","_component_Nosotros","_component_Contacto","_component_ProductoElegido"],"sources":["C:\\Users\\maxig\\Documents\\proyectos\\Vue.js\\taste-2024\\src\\views\\HomeView.vue"],"sourcesContent":["<template>\n    <Banner/>\n    <Filtros/>\n    <div class=\"container\" v-if=\"isLoading\">\n      cargando...\n    </div>\n    <div v-else class=\"container\">\n    <div class=\"row\" id=\"carrito-section\">\n          <Productos v-for=\"producto in productos\" \n          :producto=\"producto\" :key=\"producto.id\" />\n          <div class=\"contenedor-carrito justify-content-end\">\n          <router-link to=\"/carrito\" class=\"btn btn-dark w-20\">Ver detalle del carrito</router-link>\n          </div>    \n    </div>\n    </div>\n    <Nosotros/>\n    <Contacto/>\n    <ProductoElegido/>\n</template>\n\n<script>\n// @ is an alias to /src\nimport Banner from '@/components/Banner.vue'\nimport Productos from '@/components/Productos.vue'\nimport {useStore} from 'vuex'\nimport {onMounted, computed, ref, watch} from 'vue'\nimport Filtros from '@/components/Filtros.vue'\nimport Nosotros from '@/components/Nosotros.vue'\nimport Contacto from '@/components/Contacto.vue'\nimport ProductoElegido from '@/components/ProductoElegido.vue'\n\nexport default {\n  name: 'HomeView',\n  components: {\n    Productos,\n    Banner,\n    Filtros,\n    Nosotros,\n    Contacto,\n    ProductoElegido\n  },\n  setup() {\n    const store = useStore()\n        const productos = ref([]);\n        const isLoading = ref(true);\n\n        onMounted(async() => {\n        if (!store.state.productos.length) {\n        await store.dispatch('fetchProductos');\n        }\n        productos.value = store.state.productos; // Acceso correcto al estado de Vuex\n        console.log('Productos después del fetch:', productos.value); // Verifica si los productos fueron cargados\n\n        // Cambia el estado de isLoading a false cuando los productos estén cargados\n        isLoading.value = false;\n        console.log('isLoading (después del fetch):', isLoading.value);\n        });\n\n        // Observar cambios en el filtro del estado de Vuex\n        watch(\n          () => store.state.filtro,\n          (nuevoFiltro) => {\n            // Actualizar los productos filtrados cuando el filtro cambie\n            productos.value = store.getters.productosFiltrados;\n          }\n        );\n        \n        return {productos, isLoading}\n  }\n}\n</script>\n<style scoped>\n.w-20 {\n  width: 30% !important;\n  float: right !important;\n  margin-right: 50px;\n  font-size: 20px;\n  margin-top: 50px;\n}\n</style>\n"],"mappings":";;EAAAA,GAAA;EAGSC,KAAK,EAAC;;;EAHfD,GAAA;EAMgBC,KAAK,EAAC;;;EACbA,KAAK,EAAC,KAAK;EAACC,EAAE,EAAC;;;EAGTD,KAAK,EAAC;AAAwC;;;;;;;;;uBAV7DE,mBAAA,CAAAC,SAAA,SACIC,YAAA,CAASC,iBAAA,GACTD,YAAA,CAAUE,kBAAA,GACmBC,MAAA,CAAAC,SAAS,I,cAAtCN,mBAAA,CAEM,OAFNO,UAEM,EAFkC,eAExC,M,cACAP,mBAAA,CAQM,OARNQ,UAQM,GAPNC,mBAAA,CAMM,OANNC,UAMM,I,kBALAV,mBAAA,CAC0CC,SAAA,QATpDU,WAAA,CAQwCN,MAAA,CAAAO,SAAS,EAArBC,QAAQ;yBAA1BC,YAAA,CAC0CC,oBAAA;MAAzCF,QAAQ,EAAEA,QAAQ;MAAGhB,GAAG,EAAEgB,QAAQ,CAACd;;kCACpCU,mBAAA,CAEM,OAFNO,UAEM,GADNd,YAAA,CAA0Fe,sBAAA;IAA7EC,EAAE,EAAC,UAAU;IAACpB,KAAK,EAAC;;IAX3CqB,OAAA,EAAAC,QAAA,CAW+D,MAAuBC,MAAA,QAAAA,MAAA,OAXtFC,gBAAA,CAW+D,yBAAuB,E;IAXtFC,CAAA;aAeIrB,YAAA,CAAWsB,mBAAA,GACXtB,YAAA,CAAWuB,mBAAA,GACXvB,YAAA,CAAkBwB,0BAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}